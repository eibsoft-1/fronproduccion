<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            Modificar Usuario
        </h1>
        
        <ol class="breadcrumb">
            <li><a href="/v1/usuario"><i class="fa fa-home"></i></a></li>
        </ol>
    </section>

    <section class="content">

        <!-- Default box -->
        <div class="box">
            <div class="box-header with-border">
            <h3 class="box-title">

            </h3>
    
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip"
                        title="Collapse">
                <i class="fa fa-minus"></i></button>
                <button type="button" class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="Remove">
                <i class="fa fa-times"></i></button>
            </div>
            </div>
            <div class="box-body">
                <form action="guardar" method="post" id="formulario">
                    <div class="form-group">
                        <label>ID</label>
                        <input type="text" 
                        value= "<%= datos.id %>"
                        name="id"
                        class="form-control" readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon">@</span>
                        <input type="text" 
                        class="form-control"
                        name="name"
                        value= "<%= datos.name %>"
                        placeholder="Usuario">
                    </div>
                    <div class="box-footer"></div>
                        <div class="input-group">
                            <button class="btn btn-app" type="submit"  onclick="confirmar()">
                                <i class="fa fa-save"></i> Guardar
                            </button>
                        </div>
                        <div class="input-group"></div>
                            <a class="btn btn-app">
                                <i class="fa fa-times"></i> Cancel
                            </a>
                        </div>
                </form>
            </div>
            <!-- /.box-body -->
        </div>
        <!-- /.box -->
    
    </section>
</div>
<script>
    function confirmar(){
        const formu = document.querySelector("#formulario");
        formu.addEventListener("submit", (event) => {
            // cancela el comportamiento por defecto
            event.preventDefault();
            Swal.fire({
                title: 'Guardar cambios?',
                text: "Guardaras los cambios",
                icon: 'question',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Si!'
                }).then((result) => {
                if (result.isConfirmed) {
                    formu.submit();
                    Swal.fire(
                    'Modificado',
                    'Se ha modificado el registro.',
                    'success'
                    )
                }
            })
        })
    }
</script>